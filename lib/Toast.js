"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Toast=Toast,exports.ToastHide=ToastHide,exports["default"]=exports.ToastDuration=exports.ToastPosition=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_react=_interopRequireDefault(require("react")),_reactNative=require("react-native");function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=(0,_getPrototypeOf2["default"])(a);if(b){var e=(0,_getPrototypeOf2["default"])(this).constructor;c=Reflect.construct(d,arguments,e)}else c=d.apply(this,arguments);return(0,_possibleConstructorReturn2["default"])(this,c)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}var ToastRef=/*#__PURE__*/_react["default"].createRef(),ToastStyle=_reactNative.StyleSheet.create({container:{position:"absolute",zIndex:1040,backgroundColor:"#505050",borderRadius:5,elevation:5,shadowColor:"black",shadowOpacity:.3,shadowOffset:{width:0,height:0},shadowRadius:1},text:{color:"white",fontSize:14,paddingHorizontal:20,paddingVertical:5}}),ToastPosition=_reactNative.StyleSheet.create({CENTER:{alignSelf:"center",top:_reactNative.Dimensions.get("window").height/2-35},BOTTOM:{bottom:80,alignSelf:"center"},LEFT:{left:40,top:_reactNative.Dimensions.get("window").height/2-35},RIGHT:{right:40,top:_reactNative.Dimensions.get("window").height/2-35},TOP:{top:80,alignSelf:"center"}});exports.ToastPosition=ToastPosition;var ToastDuration={SHORT:2e3,LONG:5e3,INFINITE:0};exports.ToastDuration=ToastDuration;var ToastComponent=/*#__PURE__*/function(a){function b(a){var d;return(0,_classCallCheck2["default"])(this,b),d=c.call(this,a),d.state={show:!1,text:"",position:ToastPosition.BOTTOM},d.opacity=new _reactNative.Animated.Value(0),d}(0,_inherits2["default"])(b,a);var c=_createSuper(b);return(0,_createClass2["default"])(b,[{key:"fadeIn",value:function fadeIn(){_reactNative.Animated.timing(this.opacity,{toValue:1,duration:300,useNativeDriver:!1}).start()}},{key:"fadeOut",value:function fadeOut(){_reactNative.Animated.timing(this.opacity,{toValue:0,duration:300,useNativeDriver:!1}).start(this.hide.bind(this))}},{key:"show",value:function show(a,b,c){var d=this;this.timeout&&clearTimeout(this.timeout),this.setState({show:!0,position:b,text:a},function(){d.fadeIn(),c>ToastDuration.INFINITE&&(d.timeout=setTimeout(d.fadeOut.bind(d,c),c))})}},{key:"hide",value:function hide(){this.setState({show:!1})}},{key:"render",value:function render(){var a=this.state,b=a.show,c=a.text,d=a.position,e=this.props,f=e.containerStyle,g=e.textStyle;return b?/*#__PURE__*/_react["default"].createElement(_reactNative.Animated.View,{style:[ToastStyle.container,d,f,{opacity:this.opacity}]},"object"===(0,_typeof2["default"])(c)?/*#__PURE__*/_react["default"].createElement(_reactNative.View,null,c):/*#__PURE__*/_react["default"].createElement(_reactNative.Text,{style:[ToastStyle.text,g]},c)):/*#__PURE__*/_react["default"].createElement(_reactNative.View,null)}}]),b}(_react["default"].Component),_default=function(a){return/*#__PURE__*/_react["default"].createElement(ToastComponent,(0,_extends2["default"])({},a,{ref:ToastRef}))};exports["default"]=_default;function Toast(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:ToastPosition.BOTTOM,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:ToastDuration.SHORT;ToastRef.current.show(a,b,c)}function ToastHide(){ToastRef.current.fadeOut()}